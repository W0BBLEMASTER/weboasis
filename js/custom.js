document.addEventListener("DOMContentLoaded",function(){function a(a){url_str="url(https://raw.githubusercontent.com/W0BBLEMASTER/weboasis/master/media/bg/bg"+a+".jpg)",console.log(url_str),void 0===a|!a?(document.getElementById("canvasContainer").style.display="block",document.getElementById("body").style.backgroundImage="none",document.getElementById("resetBackgroundBtn").style.display="none"):(document.getElementById("canvasContainer").style.display="none",document.getElementById("body").style.backgroundImage=url_str)}function b(){var a=localStorage.getItem("background_image_file");document.getElementById("canvasContainer").style.display="none",document.getElementById("body").style.backgroundImage="url("+a+")","none"===document.getElementById("resetBackgroundBtn").style.display&&(document.getElementById("resetBackgroundBtn").style.display="inline-block")}var d=document.getElementById("resetBackgroundBtn"),f=localStorage.getItem("background_id");"yes"==localStorage.getItem("use_own_background_image")?(d.style.display="inline-block",b()):a(f),console.log("Filling options");for(var g,h=0,j=linkMenuOrder.length;h<j;h++)g=document.createElement("option"),g.innerHTML=linkMenuOrder[h],document.getElementById("menu-select").appendChild(g);document.getElementById("add").addEventListener("click",function(){return"https://"!==document.getElementById("url").value&&""!==document.getElementById("url").value&&""!==document.getElementById("title").value?void addLinkToMenu(document.getElementById("url").value,document.getElementById("title").value,document.getElementById("menu-select").value):void alert("You haven't entered new link URL or title!")});var k=document.getElementById("add-link-form");document.getElementById("add-link-btn").addEventListener("click",function(){k.classList.toggle("active")}),bg_container=document.getElementById("customBackgrounds"),bg_list=document.getElementById("customBackgroundsList"),bg_thumb=document.getElementById("thumbTemplate"),bg_file_input=document.getElementById("customBackgroundFile"),bg_reset_btn=document.getElementById("resetBackgroundBtn"),bg_container.addEventListener("click",function(){bg_container.classList.toggle("active")}),bg_file_input.addEventListener("change",function(){var a=new FileReader;a.onload=function(a){localStorage.setItem("background_image_file",a.target.result),localStorage.setItem("use_own_background_image","yes"),b()},a.readAsDataURL(this.files[0])}),bg_reset_btn.addEventListener("click",function(){localStorage.removeItem("background_image_file"),localStorage.removeItem("use_own_background_image"),a(localStorage.getItem("background_id"))}),globalResetBackground=function(){localStorage.removeItem("background_image_file"),localStorage.removeItem("use_own_background_image"),a(localStorage.getItem("background_id"))};for(let l=0;l<6;l++){let m=bg_thumb.cloneNode(!0);m.id="",m.classList.remove("template"),m.style.backgroundImage="url(https://raw.githubusercontent.com/W0BBLEMASTER/weboasis/master/media/bg/bg"+l+".jpg)",m.addEventListener("click",function(){localStorage.setItem("background_id",l),localStorage.removeItem("background_image_file"),localStorage.removeItem("use_own_background_image"),a(l)}),bg_list.appendChild(m)}document.getElementById("customBackgroundFileLabel").addEventListener("click",function(){bg_file_input.click()})});